var f=true,h=null,k=false;function l(){return function(){}}function aa(a){return function(b){this[a]=b}}function ba(a){return function(){return this[a]}}var m,ca,n,q,da,s,t,ea,fa,u,ga,ha,w,ia,ja,x,y,z,pa,qa,B,ra,C,sa,ta,D,ua,G,va,wa,ya,za,Aa,H,Ba,Ca,J,Da;
function K(a,b,c){function d(){}var e;d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.d=b.prototype;if(b.prototype.constructor==Object.prototype.constructor)b.prototype.constructor=b;if(c)for(e in c)if(c.hasOwnProperty(e))a.prototype[e]=c[e]}m=function(){this.sb=new ca;this.l=new n;this.Ka=[];this.F=[];this.Y=new q;return this};
m.prototype={F:h,Ka:h,parent:h,x:0,y:0,width:0,height:0,Ga:0,duration:Number.MAX_VALUE,sb:h,l:h,clip:k,P:0,ra:0,Xb:0,Yb:0,Wb:0,Za:0,Ub:0,Vb:0,U:1,ff:k,jb:1,K:k,Ce:k,Sc:k,O:f,ka:0,ab:1,tb:2,ub:3,vb:4,lc:5,mc:6,jc:7,kc:8,fillStyle:h,strokeStyle:h,G:0,Y:h,Kb:k,va:function(a){this.F.push(a)},Af:function(a){for(var b=this.F.length;b--;)if(this.F[b]==a){this.F.splice(b,1);break}},fireEvent:function(a,b){for(var c=0;c<this.F.length;c++)this.F[c].tg(this,a,b)},Zf:function(){var a=[];a.push((new n).h(0,0));
a.push((new n).h(this.width,this.height));a.push((new n).h(0,this.height));a.push((new n).h(this.width,0));for(var b=0;b<a.length;b++)this.Zc(a[b]);b=Number.MAX_VALUE;for(var c=Number.MIN_VALUE,d=Number.MAX_VALUE,e=Number.MIN_VALUE,g=0;g<a.length;g++){if(a[g].x<b)b=a[g].x;if(a[g].x>c)c=a[g].x;if(a[g].y<d)d=a[g].y;if(a[g].y>e)e=a[g].y}this.Y.x=b;this.Y.y=d;this.Y.width=c-b;this.Y.height=e-d},ha:function(a){this.K=f;this.fireEvent("expired",a);return this},Db:function(){this.Ka=[];return this},Df:function(a){this.U=
a;return this},Tb:function(){this.Vb=this.Ub=this.Cf=this.Za=0;this.ra=this.P=1;this.Wb=this.Yb=this.Xb=0;return this},Q:function(a,b){this.Ga=a;this.duration=b;this.K=k;return this},i:function(a){a=a.f;if(h!=this.parent&&h!=this.fillStyle){a.fillStyle=this.Sc?"orange":this.fillStyle!=h?this.fillStyle:"white";a.fillRect(0,0,this.width,this.height)}if(h!=this.strokeStyle){a.strokeStyle=this.strokeStyle;a.strokeRect(0,0,this.width,this.height)}},ae:function(a,b){this.be(a,b,this.ka);return this},Kd:function(a){var b=
0,c=0;switch(a){case this.ka:b=this.width/2;c=this.height/2;break;case this.ab:b=this.width/2;c=0;break;case this.tb:b=this.width/2;c=this.height;break;case this.ub:b=0;c=this.height/2;break;case this.vb:b=this.width;c=this.height/2;break;case this.mc:b=this.width;c=0;break;case this.jc:b=0;c=this.height;break;case this.kc:b=this.width;c=this.height;break;case this.lc:c=b=0}return{x:b,y:c}},be:function(a,b,c){this.Wb=c;c=this.Kd(this.Wb);this.Xb=c.x;this.Yb=c.y;this.P=a;this.ra=b;return this},Zd:function(a){this.$d(a,
this.width/2,this.height/2);return this},$d:function(a,b,c){this.Za=a;this.Ub=b?b:0;this.Vb=c?c:0;return this},bc:function(a,b){this.width=a;this.height=b;return this},ga:function(a,b,c,d){this.x=a>>0;this.y=b>>0;this.width=c;this.height=d;return this},J:function(a,b){this.x=a>>0;this.y=b>>0;return this},lb:function(a){if(this.K)return k;if(this.duration==Number.MAX_VALUE)return this.Ga<=a;if(a>this.Ga+this.duration){this.K||this.ha(a);return k}return this.Ga<=a&&a<this.Ga+this.duration},contains:function(a,
b){return a>=0&&b>=0&&a<this.width&&b<this.height},create:function(){this.Cf=this.Wb=this.ka;this.ae(1,1);this.Zd(0);this.Ka=[];return this},S:function(a){this.Ka.push(a);return this},Bb:function(a){this.fireEvent("destroyed",a)},Zc:function(a){for(var b=this;!(b instanceof da);){b.sb.Zc(a);b=b.parent}return a},Lb:function(a){for(var b=this;b;){b.sb.Lb(a);b=b.parent}return a},Qa:function(a){if(!this.O||!this.lb(this.G))return h;this.l.h(a.x,a.y);this.sb.Lb(this.l);return this.contains(this.l.x,this.l.y)?
this:h},Rd:l(),Mb:function(){this.Sc=f},Nb:function(){this.Sc=k},Ob:l(),Va:l(),Wa:l(),Lc:l(),Cb:function(a){if(this.Kb&&h!=this.Y){a.f.strokeStyle="red";a.f.strokeRect(this.Y.x,this.Y.y,this.Y.width,this.Y.height)}},V:function(a,b){for(var c=0;c<this.Ka.length;c++)this.Ka[c].apply(b,this)},nb:function(a,b){if(!this.lb(b))return this.Kb=k;var c=a.f;this.jb=this.parent.jb*this.U;c.globalAlpha=this.jb;this.sb.tf(c,this);this.Zf();if(this.clip){c.beginPath();c.rect(0,0,this.width,this.height);c.clip()}this.i(a,
b);return this.Kb=f},Eb:l(),da:function(a){if(a)for(var b in a)this[b]=a[b];return this}};s=function(){s.d.constructor.call(this);this.c=[];return this};
K(s,m,{c:h,Cb:function(a,b){if(this.Kb){for(var c=0;c<this.c.length;c++)this.c[c].Cb(a,b);s.d.Cb.call(this,a,b)}},Dg:function(){this.c=[];return this},nb:function(a,b){var c=a.f;c.save();if(!s.d.nb.call(this,a,b))return k;if(!this.ff)this.jb=this.parent.jb;for(var d=0;d<this.c.length;d++){c.save();this.c[d].nb(a,b);c.restore()}c.restore();return f},V:function(a,b){s.d.V.call(this,a,b);var c;for(c=0;c<this.c.length;c++)if(this.c[c].lb(b)){this.c[c].G=b;this.c[c].V(a,b)}return this},Eb:function(a,b){s.d.Eb.call(this,
a,b);var c;for(c=this.c.length-1;c>=0;c--){var d=this.c[c];if(d.K&&d.Ce){d.Bb(b);this.c.splice(c,1)}else d.Eb(a,b)}},M:function(a){a.parent=this;this.c.push(a);return this},vg:function(a,b){if(b<0||b>this.c.length)return this;a.parent=this;this.c.unshift(a);return this},Id:function(a){var b=0,c=this.c.length;for(b=0;b<c;b++)if(this.c[b]==a)return b;return-1},removeChild:function(a){a=this.Id(a);-1!=a&&this.c.splice(a,1);return this},Qa:function(a){if(h==s.d.Qa.call(this,a))return h;for(a=this.c.length-
1;a>=0;a--){var b=this.c[a].Qa(this.l);if(h!=b)return b}return this},Bb:function(){for(var a=this.c.length-1;a>=0;a--)this.c[a].Bb();s.d.Bb.call(this);return this},Lg:function(){return this.c.length},Ig:function(a){return this.c[a]},ph:function(a,b){var c=this.Id(a);if(-1!=c)if(b!=c)if(b>=this.c.length){this.c.splice(c,1);this.c.push(a)}else{c=this.c.splice(c,1);if(b<0)b=0;else if(b>this.c.length)b=this.c.length;this.c.splice(b,1,c)}}});t=function(){t.d.constructor.call(this);return this};
K(t,m,{Ma:h,Ja:h,Tc:-1,wd:1E3,Ha:0,Ea:0,od:0,wb:1,qc:2,pc:3,$f:function(a){this.Ma=a;this.width=a.q;this.height=a.p;h==this.Ja&&this.Ff([0]);return this},ah:function(a){this.wd=a;return this},nh:function(a){this.Ha=a;return this},Ff:function(a){this.Ja=a;this.Ea=a[0];return this},V:function(a,b){if(this.Ma&&this.Ja){if(this.Ja.length>1)if(this.Tc==-1)this.Tc=b;else{var c=b;c-=this.Tc;c/=this.wd;c%=this.Ja.length;this.Ea=this.Ja[Math.floor(c)]}t.d.V.call(this,a,b)}},i:function(a){a=a.f;switch(this.Ha){case this.wb:this.Ma.Oc(a,
this.Ea,0,0);break;case this.qc:this.Ma.Qc(a,this.Ea,0,0);break;case this.pc:this.Ma.Pc(a,this.Ea,0,0);break;default:this.Ma.i(a,this.Ea,0,0)}}});ea=function(){ea.d.constructor.call(this);return this};
K(ea,s,{z:h,Ha:0,od:0,wb:1,qc:2,pc:3,offsetX:0,offsetY:0,ih:function(a){this.offsetX=a;return this},jh:function(a){this.offsetY=a;return this},gh:function(a){this.z=a;if(this.width==0||this.height==0){this.width=a.width;this.height=a.height}return this},hh:function(a){this.Ha=a;return this},i:function(a){a=a.f;switch(this.Ha){case this.wb:this.Oc(a);break;case this.qc:this.Qc(a);break;case this.pc:this.Pc(a);break;default:this.ge(a)}},Oc:function(a){a.save();a.translate(this.width,0);a.scale(-1,1);
a.drawImage(this.z,this.offsetX,this.offsetY);a.restore()},Qc:function(a){a.save();a.translate(0,this.height);a.scale(1,-1);a.drawImage(this.z,this.offsetX,this.offsetY);a.restore()},Pc:function(a){a.save();a.translate(0,this.height);a.scale(1,-1);a.translate(this.width,0);a.scale(-1,1);a.drawImage(this.z,this.offsetX,this.offsetY);a.restore()},ge:function(a){a.drawImage(this.z,this.offsetX,this.offsetY)}});
fa=function(){fa.d.constructor.call(this);this.font="10px sans-serif";this.textAlign="left";this.textBaseline="top";this.outlineColor="black";this.clip=k;return this};
K(fa,m,{font:h,textAlign:h,textBaseline:h,fill:f,text:h,Yc:0,ec:0,outline:k,outlineColor:h,path:h,Vd:h,Rc:1E4,cg:1,fh:function(a){this.fill=a;return this},kh:function(a){this.outline=a;return this},lh:function(a){this.outlineColor=a;return this},oh:function(a){this.text=a;this.Tf(this.font);return this},Yg:function(a){this.textAlign=a;return this},$g:function(a){this.textBaseline=a;return this},Tf:function(a){if(!a)return this;this.font=a;if(this.text==""||h==this.text)this.width=this.height=0;return this},
re:function(a){a.f.save();a.f.font=this.font;this.Yc=a.f.measureText(this.text).width;if(this.width==0)this.width=this.Yc;try{this.ec=parseInt(this.font.substring(0,this.font.indexOf("px")))}catch(b){this.ec=20}if(this.height==0)this.height=this.ec;a.f.restore();return this},i:function(a,b){if(h!=this.text){if(this.Yc==0||this.ec==0)this.re(a);var c=a.f;if(h!=this.font)c.font=this.font;if(h!=this.textAlign)c.textAlign=this.textAlign;if(h!=this.textBaseline)c.textBaseline=this.textBaseline;if(h!=this.fillStyle)c.fillStyle=
this.fillStyle;if(h==this.path){var d=0;if(this.textAlign=="center")d=this.width/2;else if(this.textAlign=="right")d=this.width;if(this.fill){c.fillText(this.text,d,0);if(this.outline){if(h!=this.outlineColor)c.strokeStyle=this.outlineColor;c.beginPath();c.strokeText(this.text,d,0)}}else{if(h!=this.outlineColor)c.strokeStyle=this.outlineColor;c.strokeText(this.text,d,0)}}else this.Fe(a,b)}},Fe:function(a,b){for(var c=a.f,d=this.cg*this.Vd.j(b%this.Rc/this.Rc).y*this.path.B(),e=new n,g=new n,i=0;i<
this.text.length;i++){var j=this.text[i].toString(),o=c.measureText(j).width;g=o/2+d;e=this.path.Hb(g).yb();g=this.path.Hb(g-0.1).yb();g=Math.atan2(e.y-g.y,e.x-g.x);c.save();c.translate(e.x,e.y);c.rotate(g);this.fill&&c.fillText(j,0,0);if(this.outline){c.strokeStyle=this.outlineColor;c.strokeText(j,0,0)}c.restore();d+=o}},Z:function(a,b,c){this.path=a;this.Vd=b||(new u).zd();this.Rc=c||1E4;this.ga(0,0,parent.width,parent.height);this.O=k;return this}});ga=function(){ga.d.constructor.call(this);return this};
K(ga,m,{ud:h,na:0,Nd:0,Od:0,Md:0,Sa:0,Gc:h,enabled:f,eh:aa("enabled"),da:function(a,b,c,d,e,g){this.ud=a;this.na=b||0;this.Nd=c||this.na;this.Od=d||this.na;this.Md=e||this.na;this.Sa=this.na;this.width=a.q;this.height=a.p;this.Gc=g;return this},i:function(a){this.ud.i(a.Cc,this.enabled?this.Sa:this.Md,0,0)},Mb:function(){this.Sa=this.Nd;document.body.style.cursor="hand"},Nb:function(){this.Sa=this.na;document.body.style.cursor="default"},Va:function(){this.Sa=this.Od},Wa:function(){this.Sa=this.na},
Rd:function(){this.enabled&&h!=this.Gc&&this.Gc()},toString:function(){return"CAAT.Button "+this.na}});ha=function(){ha.d.constructor.call(this);this.Ab="source-over";return this};
K(ha,m,{shape:0,Ab:h,qg:0,rg:1,mh:function(a){this.shape=a;return this},dh:function(a){this.Ab=a;return this},i:function(a,b){switch(this.shape){case 0:this.nf(a,b);break;case 1:this.qf(a,b)}},nf:function(a){a=a.f;a.globalCompositeOperation=this.Ab;if(h!=this.fillStyle){a.fillStyle=this.fillStyle;a.beginPath();a.arc(this.width/2,this.height/2,Math.min(this.width,this.height)/2,0,2*Math.PI,k);a.fill()}if(h!=this.strokeStyle){a.strokeStyle=this.strokeStyle;a.beginPath();a.arc(this.width/2,this.height/
2,Math.min(this.width,this.height)/2,0,2*Math.PI,k);a.stroke()}},qf:function(a){a=a.f;a.globalCompositeOperation=this.Ab;if(h!=this.fillStyle){a.fillStyle=this.fillStyle;a.beginPath();a.fillRect(0,0,this.width,this.height);a.fill()}if(h!=this.strokeStyle){a.strokeStyle=this.strokeStyle;a.beginPath();a.strokeRect(0,0,this.width,this.height);a.stroke()}}});w=function(){w.d.constructor.call(this);return this};
K(w,s,{g:h,create:function(){w.d.create.call(this);this.g=document.createElement("div");document.body.appendChild(this.g);this.g.style.position="absolute";this.g.innerHTML="<b>Ibon";return this},ze:function(a){w.d.create.call(this);this.g=document.createElement("div");this.g.style.position="absolute";a.appendChild(this.g);return this},J:function(a,b){w.d.J.call(this,a,b);this.g.style.vh="translate3d("+a+"px,"+b+"px, 0px)";this.g.style.og="translate("+a+"px,"+b+"px)";return this},bc:function(a,b){w.d.bc.call(this,
a,b);this.g.style.width=""+a+"px";this.g.style.height=""+b+"px";return this},ga:function(a,b,c,d){this.J(a,b);this.bc(c,d);return this},Gf:function(a){this.g.style.background="url("+a+")";return this},V:function(a,b){w.d.V.call(this,a,b);var c;c=this.g.style["-webkit-transform"]?"translate3d("+(this.x<<0)+"px,"+(this.y<<0)+"px, 0px)":"translate("+(this.x<<0)+"px, "+(this.y<<0)+"px)";if(this.Za!=0)c=c+" rotate("+this.Za+"rad)";if(this.P!=0)c=c+" scale("+this.P+")";this.g.style["-webkit-transform"]=
c;this.g.style["-o-transform"]=c;this.g.style["-moz-transform"]=c;this.Xf();return this},Xf:function(){this.g.style.filter="alpha(opacity="+(this.U*100>>0)+")";this.g.style["-moz-opacity"]=this.U;this.g.style["-khtml-opacity"]=this.U;this.g.style["-opacity"]=this.U},Hf:function(a){this.g.className=a;return this},Jg:function(){return this.g.className},M:function(a){w.d.M.call(this,a)},nb:l()});ia=function(){return this};
ia.prototype={z:h,rows:0,cols:0,width:0,height:0,q:0,p:0,da:function(a,b,c){this.z=a;this.rows=b;this.cols=c;this.width=a.width;this.height=a.height;this.q=Math.floor(this.width/c);this.p=Math.floor(this.height/b);return this},Oc:function(a,b,c,d){var e=Math.floor(b%this.cols)*this.q;b=Math.floor(b/this.cols)*this.p;a.save();a.translate(c+this.q,d);a.scale(-1,1);a.drawImage(this.z,e,b,this.q,this.p,0,0,this.q,this.p);a.restore()},Qc:function(a,b,c,d){var e=Math.floor(b%this.cols)*this.q;b=Math.floor(b/
this.cols)*this.p;a.save();a.translate(c,d+this.p);a.scale(1,-1);a.drawImage(this.z,e,b,this.q,this.p,0,0,this.q,this.p);a.restore()},Pc:function(a,b,c,d){var e=Math.floor(b%this.cols)*this.q;b=Math.floor(b/this.cols)*this.p;a.save();a.translate(c,d+this.p);a.scale(1,-1);a.translate(this.q,0);a.scale(-1,1);a.drawImage(this.z,e,b,this.q,this.p,0,0,this.q,this.p);a.restore()},i:function(a,b,c,d){var e=Math.floor(b%this.cols)*this.q;b=Math.floor(b/this.cols)*this.p;e<0||b<0||a.drawImage(this.z,e,b,this.q,
this.p,c,d,this.q,this.p)}};ja=function(){this.images=[];return this};ja.prototype={images:h,Td:h,Pd:0,gf:function(a,b){var c=this;this.Td=b;this.images=[];for(var d=0;d<a.length;d++){this.images.push({id:a[d].id,z:new Image});this.images[d].z.onload=function(){c.Pd++;c.Td.call(this,c.Pd,c.images)};this.images[d].z.src=a[d].url}}};da=function(){da.d.constructor.call(this);this.I=[]};
K(da,s,{Be:k,I:h,xa:h,canvas:h,f:h,Cc:h,G:0,fc:0,Jb:h,clear:f,Tg:h,da:function(a,b,c){c=c||document.createElement("canvas");c.width=a;c.height=b;this.ga(0,0,c.width,c.height);this.create();this.canvas=c;this.f=this.Cc=c.getContext("2d");if(!x){x=[];Ea()}x.push(this);this.fc=(new Date).getTime();return this},df:function(a,b,c){c=c||document.createElement("canvas");c.width=1;c.height=1;this.ga(0,0,a,b);this.create();this.canvas=c;this.f=this.Cc=c.getContext("2d");if(!x){x=[];Ea()}x.push(this);this.fc=
(new Date).getTime();return this},zg:function(){var a=(new y).create();this.sd(a);return a},Bf:function(a){this.G+=a;this.f.globalAlpha=1;this.f.globalCompositeOperation="source-over";this.clear&&this.f.clearRect(0,0,this.width,this.height);this.f.setTransform(1,0,0,1,0,0);var b,c;for(b=0;b<this.c.length;b++)if(this.c[b].lb(this.G)){c=this.c[b].G-this.c[b].Ga;this.c[b].V(this,c)}for(b=0;b<this.c.length;b++)if(this.c[b].lb(this.G)){this.f.save();c=this.c[b].G-this.c[b].Ga;this.c[b].nb(this,c);this.c[b].G+=
a;this.f.restore();this.Be&&this.c[b].Cb(this,c)}this.Eb()},sd:function(a){a.ga(0,0,this.width,this.height);this.I.push(a);a.Qf(this);h==this.xa&&this.ac(0)},Mg:function(){return this.I.length},He:function(a,b,c,d,e,g,i,j,o,v){if(a!=this.Qe()){a=this.I[a];d=this.I[d];a.ha(k);d.ha(k);a.O=k;d.O=k;a.Tb();d.Tb();a.J(0,0);d.J(0,0);a.U=1;d.U=1;if(b==y.prototype.bb)a.Cd(i,j,c,o);else b==y.prototype.cb?a.Ed(0,i,j,c,o):a.Gd(i,j,c,o);if(e==y.prototype.bb)d.Ie(i,j,g,v);else e==y.prototype.cb?d.Je(0,i,j,g,v):
d.Ke(i,j,g,v);this.c=[];this.M(d);this.M(a)}},Dc:function(a,b,c,d){var e=Math.random(),g=Math.random(),i;if(e<0.33){e=y.prototype.bb;i=(new u).yd(4)}else if(e<0.66){e=y.prototype.cb;i=(new u).xe(1.1,0.4)}else{e=y.prototype.gd;i=(new u).Bc()}var j;if(g<0.33){g=y.prototype.bb;j=(new u).yd(4)}else if(g<0.66){g=y.prototype.cb;j=(new u).ye(4)}else{g=y.prototype.gd;j=(new u).Bc()}this.He(a,e,Math.random()*8.99>>0,b,g,Math.random()*8.99>>0,c,d,i,j)},za:function(a,b,c,d,e,g){a=this.I[a];if(b==y.prototype.bb)a.Cd(c,
d,e,g);else b==y.prototype.cb?a.Ed(0,c,d,e,g):a.Gd(c,d,e,g);this.c=[];this.M(a);a.Tb();a.J(0,0);a.U=1;a.O=k;a.ha(k)},ac:function(a){a=this.I[a];this.c=[];this.M(a);this.xa=a;a.ha(k);a.O=f;a.Tb();a.J(0,0);a.U=1},sh:function(a,b,c,d){var e=this.Ib(this.xa);d?this.Dc(a,e,b,c):this.ac(a)},rh:function(a,b,c){var d=this.Ib(this.xa);this.I.length<=1||d==0||(c?this.Dc(d-1,d,a,b):this.ac(d-1))},qh:function(a,b,c){var d=this.Ib(this.xa);this.I.length<=1||d==this.I.length-1||(c?this.Dc(d+1,d,a,b):this.ac(d+
1))},Mb:l(),Nb:l(),Ob:l(),Va:l(),Wa:l(),Lc:l(),Ge:function(a,b){if(b)this.xa=a;else a.ha(f);a.O=f;a.Db()},Ib:function(a){for(var b in this.I)if(this.I[b]==a)return b>>0;return-1},Pg:function(a){return this.I[a]},Qe:function(){return this.Ib(this.xa)},Gg:function(){return BrowserDetect.yg},Hg:function(){return BrowserDetect.version},Og:function(){return BrowserDetect.pg},Ra:function(a){for(var b=0;b<this.Jb.length;b++)if(this.Jb[b].id==a)return this.Jb[b].z},Eg:function(){this.I=[]},loop:function(a,
b){function c(){var e=(new Date).getTime(),g=e-d.fc;d.Bf(g);d.fc=e;b&&b(d,g)}a=a||30;a=1E3/a;var d=this;c();setInterval(c,a)},bh:function(a){this.clear=a;return this}});z=function(){this.A=new n;this.Wd=new n;return this};z.prototype={Wd:h,A:h,jf:0,G:0,source:h,md:16,ed:17,bd:18,nd:1,fd:2,cd:4,C:function(a,b,c,d,e){this.A.h(a,b);this.jf=c;this.source=d;this.Wd=e;return this}};var Fa=k,Ga=h,Ha=h,Ia=h,Qa=h,Ra=h,Sa=h,Ta=h,Ua=h,L=h,M=h,Va=h,T=h,Wa=k,U=0,Xa=k,V=h;
function Ea(){if(!Fa){console&&console.log("(CAAT.MouseEvent) Enabling CAAT event capture");M=new n;Va=new n;T=new n;window.addEventListener("keydown",Ga=function(a){switch(a.which?a.which:event.keyCode){case z.prototype.md:U|=z.prototype.nd;break;case z.prototype.ed:U|=z.prototype.fd;break;case z.prototype.bd:U|=z.prototype.cd}},k);window.addEventListener("keyup",Ha=function(a){switch(a.which?a.which:event.keyCode){case z.prototype.md:U&=~z.prototype.nd;break;case z.prototype.ed:U&=~z.prototype.fd;
break;case z.prototype.bd:U&=~z.prototype.cd}},k);window.addEventListener("mouseup",Qa=function(){Wa=k;h!=L&&L.Wa((new z).C(L.l.x,L.l.y,U,L,T));if(Xa)Xa=k;else h!=L&&L.Rd((new z).C(L.l.x,L.l.y,U,L,T))},k);window.addEventListener("mousedown",Ia=function(a){V=h;if(h!=V){Wa=f;L=V.Qa(M);a=M.x;var b=M.y;if(h!=L){Va.x=a;Va.y=b;L.Va((new z).C(L.l.x,L.l.y,U,L,T))}}},k);window.addEventListener("mouseover",Ra=function(){V=h;if(h!=V){L=V.Qa(M);h!=L&&L.Mb((new z).C(L.l.x,L.l.y,U,L,T))}},k);window.addEventListener("mouseout",
Sa=function(){if(h!=L){L.Nb((new z).C(0,0,U,L,T));L=h}Wa=k},k);window.addEventListener("mousemove",Ta=function(a){V=h;if(h!=V)if(Wa&&h!=L){if(!Xa)if(Math.abs(Va.x-M.x)<5&&Math.abs(Va.y-M.y)<5)return;Xa=f;h!=L.parent&&L.parent.Lb(M);L.Lc((new z).C(M.x,M.y,U,L,T))}else{a=V.Qa(M);if(a!=L){h!=L&&L.Nb((new z).C(M.x,M.y,U,L,T));h!=a&&a.Mb((new z).C(a.l.x,a.l.y,U,a,T))}L=a;h!=a&&L.Ob((new z).C(L.l.x,L.l.y,U,L,T))}},k);window.addEventListener("dblclick",Ua=function(){V=h;h!=L&&(new z).C(L.l.x,L.l.y,U,L,T)},
k)}}pa=function(){return this};pa.prototype={startTime:0,duration:0,xc:h,wc:h,sa:h,hg:0,remove:k,create:function(a,b,c,d){this.startTime=a;this.duration=b;this.xc=c;this.wc=d;return this},se:function(a){var b=a;b-=this.startTime;if(b>=this.duration){this.remove=f;this.xc&&this.xc(a,b,this)}else this.wc&&this.wc(a,b,this);return this}};y=function(){y.d.constructor.call(this);this.ua=[];return this};
K(y,s,{v:h,Ad:h,za:k,bb:1,cb:2,gd:3,ua:h,ig:0,te:function(a){for(var b=this.ua.length-1;b>=0;){this.ua[b].remove||this.ua[b].se(a);b--}},Ag:function(a,b,c,d){a=(new pa).create(a,b,c,d);a.hg=this.ig++;a.Xg=this.G;a.sa=this;this.ua.push(a);return a},zf:function(){var a;for(a=0;a<this.ua.length;a++)this.ua[a].remove&&this.ua.splice(a,1)},V:function(a,b){this.te(b);y.d.V.call(this,a,b);this.zf()},Ac:function(a,b){var c=new qa;c.Q(0,a);c.cc=b?0:1;c.Ec=b?1:0;this.v.S(c)},Gd:function(a,b,c,d){this.Fd(a,
b,c,f,d)},Ke:function(a,b,c,d){this.Fd(a,b,c,k,d)},Fd:function(a,b,c,d,e){this.v=new B;this.za=d;var g=new ra;e&&g.$a(e);g.Q(0,a);if(c<1)c=1;else if(c>4)c=4;switch(c){case m.prototype.ab:d?g.Z((new C).ta(0,-this.height,0,0)):g.Z((new C).ta(0,0,0,-this.height));break;case m.prototype.tb:d?g.Z((new C).ta(0,this.height,0,0)):g.Z((new C).ta(0,0,0,this.height));break;case m.prototype.ub:d?g.Z((new C).ta(-this.width,0,0,0)):g.Z((new C).ta(0,0,-this.width,0));break;case m.prototype.vb:d?g.Z((new C).ta(this.width,
0,0,0)):g.Z((new C).ta(0,0,this.width,0))}b&&this.Ac(a,d);this.v.S(g);this.v.Q(this.G,a);this.v.va(this);this.Db();y.d.S.call(this,this.v)},Ed:function(a,b,c,d,e){this.Dd(a,b,c,d,f,e);this.za=f},Je:function(a,b,c,d,e){this.Dd(a,b,c,d,k,e);this.za=k},Dd:function(a,b,c,d,e,g){this.v=new B;var i=0,j=0,o=0,v=0;switch(d){case m.prototype.lc:case m.prototype.mc:case m.prototype.jc:case m.prototype.kc:case m.prototype.ka:v=o=1;break;case m.prototype.ab:case m.prototype.tb:o=i=1;j=0;v=1;break;case m.prototype.ub:case m.prototype.vb:v=
j=1;i=0;o=1;break;default:alert("scale anchor ?? "+d)}if(!e){var E;E=i;i=o;o=E;E=j;j=v;v=E}c&&this.Ac(b,e);c=new sa;c.Q(a,b);c.qb=i;c.rb=j;c.Fb=o;c.Gb=v;c.anchor=d;g&&c.$a(g);this.v.S(c);this.v.Q(this.G,b);this.v.va(this);this.Db();y.d.S.call(this,this.v)},S:l(),Cd:function(a,b,c,d){this.Bd(a,b,c,f,d);this.za=f},Ie:function(a,b,c,d){this.Bd(a,b,c,k,d);this.za=k},Bd:function(a,b,c,d,e){this.v=new B;var g=0,i=0;switch(c){case m.prototype.ka:c=m.prototype.ab;case m.prototype.ab:case m.prototype.tb:case m.prototype.ub:case m.prototype.vb:g=
Math.PI*(Math.random()<0.5?1:-1);break;case m.prototype.lc:case m.prototype.mc:case m.prototype.jc:case m.prototype.kc:g=Math.PI/2*(Math.random()<0.5?1:-1);break;default:alert("rot anchor ?? "+c)}if(k==d){var j=g;g=i;i=j}b&&this.Ac(a,d);b=new ta;b.Q(0,a);b.dc=g;b.Fc=i;b.anchor=c;e&&b.$a(e);this.v.S(b);this.v.Q(this.G,a);this.v.va(this);this.Db();y.d.S.call(this,this.v)},Qf:aa("Ad"),td:function(){this.Ad.Ge(this,this.za)},sg:l(),ha:aa("K"),i:function(a){a=a.f;a.fillStyle=this.fillStyle!=h?this.fillStyle:
"white";a.fillRect(0,0,this.width,this.height)}});D=function(){this.a=[[1,0,0],[0,1,0],[0,0,1]];return this};
D.prototype={a:h,type:k,rc:0,sc:1,tc:2,transform:function(a){var b=a.x,c=a.y;if(this.type==this.rc){a.x=b*this.a[0][0]+c*this.a[1][0]+this.a[0][2];a.y=b*this.a[0][1]+c*this.a[1][1]+this.a[1][2]}else if(this.type==this.sc){a.x*=this.a[0][0];a.y*=this.a[1][1]}else if(this.type==this.tc){a.x+=this.a[0][2];a.y+=this.a[1][2]}else{a.x=b*this.a[0][0]+c*this.a[0][1]+this.a[0][2];a.y=b*this.a[1][0]+c*this.a[1][1]+this.a[1][2]}return a},rotate:function(a){var b=new D;b.a[0][0]=Math.cos(a);b.a[1][0]=-Math.sin(a);
b.a[0][1]=Math.sin(a);b.a[1][1]=Math.cos(a);b.type=this.rc;return b},scale:function(a,b){var c=new D;c.a[0][0]=a;c.a[1][1]=b;c.type=this.sc;return c},translate:function(a,b){var c=new D;c.a[0][2]=a;c.a[1][2]=b;c.type=this.tc;return c},multiply:function(a){var b=this.a[0][0]*a.a[0][1]+this.a[0][1]*a.a[1][1]+this.a[0][2]*a.a[2][1],c=this.a[0][0]*a.a[0][2]+this.a[0][1]*a.a[1][2]+this.a[0][2]*a.a[2][2],d=this.a[1][0]*a.a[0][0]+this.a[1][1]*a.a[1][0]+this.a[1][2]*a.a[2][0],e=this.a[1][0]*a.a[0][1]+this.a[1][1]*
a.a[1][1]+this.a[1][2]*a.a[2][1],g=this.a[1][0]*a.a[0][2]+this.a[1][1]*a.a[1][2]+this.a[1][2]*a.a[2][2],i=this.a[2][0]*a.a[0][0]+this.a[2][1]*a.a[1][0]+this.a[2][2]*a.a[2][0],j=this.a[2][0]*a.a[0][1]+this.a[2][1]*a.a[1][1]+this.a[2][2]*a.a[2][1],o=this.a[2][0]*a.a[0][2]+this.a[2][1]*a.a[1][2]+this.a[2][2]*a.a[2][2];this.a[0][0]=this.a[0][0]*a.a[0][0]+this.a[0][1]*a.a[1][0]+this.a[0][2]*a.a[2][0];this.a[0][1]=b;this.a[0][2]=c;this.a[1][0]=d;this.a[1][1]=e;this.a[1][2]=g;this.a[2][0]=i;this.a[2][1]=
j;this.a[2][2]=o},Re:function(){var a=this.a[0][2],b=this.a[1][2],c=this.a[0][0],d=this.a[0][1],e=this.a[1][0],g=this.a[1][1],i=new D;if(this.type==this.rc){i.a[0][0]=c;i.a[0][1]=e;i.a[1][0]=d;i.a[1][1]=g}else if(this.type==this.sc){i.a[0][0]=1/c;i.a[1][1]=1/g}else if(this.type==this.tc){i.a[0][2]=-a;i.a[1][2]=-b}i.type=this.type;return i}};ca=function(){this.a=new D;this.stack=[];this.Uc=[];return this};
ca.prototype={a:h,stack:h,Uc:h,pa:function(a){this.stack.push(a)},sf:function(){return this.stack.pop()},save:function(){this.Uc.push(this.stack.length)},restore:function(){for(var a=this.Uc.pop();this.stack.length!=a;)this.sf()},transform:function(a){for(var b=0;b<this.stack.length;b++){var c=this.stack[b].a;a.transform(c[0][0],c[0][1],c[1][0],c[1][1],c[0][2],c[1][2])}},tf:function(a,b){this.stack=[];this.pa(D.prototype.translate(b.x,b.y));if(b.Za!=0){this.pa(D.prototype.translate(b.Ub,b.Vb));this.pa(D.prototype.rotate(b.Za));
this.pa(D.prototype.translate(-b.Ub,-b.Vb))}if(b.P!=1||b.ra!=1)if(b.P!=0&&b.ra!=0){this.pa(D.prototype.translate(b.Xb-b.width,b.Yb-b.height));this.pa(D.prototype.scale(b.P,b.ra));this.pa(D.prototype.translate(-(b.Xb-b.width/b.P),-(b.Yb-b.height/b.ra)))}else this.pa(D.prototype.scale(0,0));this.transform(a)},Zc:function(a){for(var b=this.stack.length-1;b>=0;b--)this.stack[b].transform(a);return a},Lb:function(a){for(var b=0;b<this.stack.length;b++)this.stack[b].Re().transform(a);return a}};
n=function(a,b){this.x=a||0;this.y=b||0;return this};
n.prototype={x:0,y:0,h:function(a,b){this.x=a;this.y=b;return this},yb:function(){var a=new n;a.h(this.x,this.y);return a},translate:function(a,b){this.x+=a;this.y+=b;return this},jg:function(a){this.x+=a.x;this.y+=a.y;return this},fg:function(a){this.x-=a.x;this.y-=a.y;return this},multiply:function(a){this.x*=a;this.y*=a;return this},rotate:function(a){var b=this.x,c=this.y;this.x=b*Math.cos(a)-Math.sin(a)*c;this.y=b*Math.sin(a)+Math.cos(a)*c;return this},normalize:function(){var a=this.B();this.x/=
a;this.y/=a;return this},B:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<0.0050&&a>-0.0050)return 1.0E-6;return a},Ld:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},toString:function(){return"(CAAT.Point) x:'"+String(Math.round(Math.floor(this.x*10))/10)+" y:"+String(Math.round(Math.floor(this.y*10))/10)}};q=function(){return this};
q.prototype={x:0,y:0,hc:0,ic:0,width:0,height:0,contains:function(a,b){return a>=0&&a<this.width&&b>=0&&b<this.height},ef:function(){return this.width==0&&this.height==0},$c:function(a,b){if(this.ef()&&this.x==0&&this.y==0){this.x=a;this.y=b}else{this.hc=this.x+this.width;this.ic=this.y+this.height;if(b<this.y)this.y=b;if(a<this.x)this.x=a;if(b>this.ic)this.ic=b;if(a>this.hc)this.hc=a;this.width=this.hc-this.x;this.height=this.ic-this.y}}};ua=function(){return this};
ua.prototype={b:h,D:0.05,length:-1,ea:k,jd:20,Ee:f,i:function(a){a=a.f;a.save();a.beginPath();a.strokeStyle="#a0a0a0";a.moveTo(this.b[0].x,this.b[0].y);a.lineTo(this.b[1].x,this.b[1].y);a.stroke();if(this.Oa){a.moveTo(this.b[2].x,this.b[2].y);a.lineTo(this.b[3].x,this.b[3].y);a.stroke()}if(this.Ee){a.globalAlpha=0.5;for(var b=0;b<this.b.length;b++){a.fillStyle="#7f7f00";a.beginPath();a.arc(this.b[b].x,this.b[b].y,this.jd/2,0,2*Math.PI,k);a.fill()}}a.restore()},update:function(){this.qe()},ja:l(),
Ca:function(a){a||(a=new q);for(var b=new n,c=this.D;c<=1+this.D;c+=this.D){this.ja(b);a.$c(b.x,b.y)}return a},qe:function(){var a,b;a=this.b[0].x;b=this.b[0].y;for(var c=0,d=new n,e=this.D;e<=1+this.D;e+=this.D){this.ja(d,e);c+=Math.sqrt((d.x-a)*(d.x-a)+(d.y-b)*(d.y-b));a=d.x;b=d.y}return this.length=c},B:ba("length"),Aa:function(){return this.b[this.b.length-1]},Fa:function(){return this.b[0]}};G=function(){G.d.constructor.call(this);return this};
K(G,ua,{Oa:k,Zb:function(a,b,c,d,e,g,i,j){this.b=[];this.b.push((new n).h(a,b));this.b.push((new n).h(c,d));this.b.push((new n).h(e,g));this.b.push((new n).h(i,j));this.Oa=f;this.update()},$b:function(a,b,c,d,e,g){this.b=[];this.b.push((new n).h(a,b));this.b.push((new n).h(c,d));this.b.push((new n).h(e,g));this.Oa=k;this.update()},i:function(a){this.Oa?this.pf(a):this.of(a);G.d.i.call(this,a)},of:function(a){var b,c;b=this.b[0].x;c=this.b[0].y;a=a.f;a.save();a.beginPath();a.moveTo(b,c);b=new n;for(c=
this.D;c<=1+this.D;c+=this.D){this.ja(b,c);a.lineTo(b.x,b.y)}a.stroke();a.restore()},pf:function(a){var b,c;b=this.b[0].x;c=this.b[0].y;a=a.f;a.save();a.beginPath();a.moveTo(b,c);b=new n;for(c=this.D;c<=1+this.D;c+=this.D){this.ja(b,c);a.lineTo(b.x,b.y)}a.stroke();a.restore()},ja:function(a,b){return this.Oa?this.dg(a,b):this.eg(a,b)},dg:function(a,b){var c=b*b,d=b*c;a.x=this.b[0].x+b*(-this.b[0].x*3+b*(3*this.b[0].x-this.b[0].x*b))+b*(3*this.b[1].x+b*(-6*this.b[1].x+this.b[1].x*3*b))+c*(this.b[2].x*
3-this.b[2].x*3*b)+this.b[3].x*d;a.y=this.b[0].y+b*(-this.b[0].y*3+b*(3*this.b[0].y-this.b[0].y*b))+b*(3*this.b[1].y+b*(-6*this.b[1].y+this.b[1].y*3*b))+c*(this.b[2].y*3-this.b[2].y*3*b)+this.b[3].y*d;return a},eg:function(a,b){a.x=(1-b)*(1-b)*this.b[0].x+2*(1-b)*b*this.b[1].x+b*b*this.b[2].x;a.y=(1-b)*(1-b)*this.b[0].y+2*(1-b)*b*this.b[1].y+b*b*this.b[2].y;return a}});va=function(){va.d.constructor.call(this);return this};
K(va,ua,{Mf:function(a,b,c,d,e,g,i,j){this.b=[];this.b.push((new n).h(a,b));this.b.push((new n).h(c,d));this.b.push((new n).h(e,g));this.b.push((new n).h(i,j));this.Oa=f;this.update()},i:function(a){var b,c;b=this.b[0].x;c=this.b[0].y;var d=a.f;d.save();d.beginPath();d.moveTo(b,c);b=new n;for(c=this.D;c<=1+this.D;c+=this.D){this.ja(b,c);d.lineTo(b.x,b.y)}d.stroke();d.restore();va.d.i.call(this,a)},ja:function(a,b){var c=b*b,d=b*c,e=this.b;a.x=0.5*(2*e[1].x+(-e[0].x+e[2].x)*b+(2*e[0].x-5*e[1].x+4*
e[2].x-e[3].x)*c+(-e[0].x+3*e[1].x-3*e[2].x+e[3].x)*d);a.y=0.5*(2*e[1].y+(-e[0].y+e[2].y)*b+(2*e[0].y-5*e[1].y+4*e[2].y-e[3].y)*c+(-e[0].y+3*e[1].y-3*e[2].y+e[3].y)*d);return a}});wa=function(){return this};wa.prototype={Aa:l(),Fa:l(),j:l(),B:l(),Ca:l(),Pb:l(),Hc:l(),Ba:l(),kb:l()};ya=function(){this.n=new n;this.w=new n;this.o=new n;this.ob=[];return this};
K(ya,wa,{n:h,w:h,o:h,Uf:function(a,b){this.n.x=a;this.n.y=b;this.o.h(a,b);return this},Sf:function(a,b){this.w.x=a;this.w.y=b;return this},Aa:ba("w"),Fa:ba("n"),j:function(a){if(a>1||a<0)a%=1;if(a<0)a=1+a;this.o.h(this.n.x+(this.w.x-this.n.x)*a,this.n.y+(this.w.y-this.n.y)*a);return this.o},B:function(){var a=this.w.x-this.n.x,b=this.w.y-this.n.y;return Math.sqrt(a*a+b*b)},cf:function(){return this.n.x},Le:function(){return this.w.x},i:function(a){a=a.f;a.beginPath();a.moveTo(this.n.x,this.n.y);a.lineTo(this.w.x,
this.w.y);a.stroke();a.fillStyle="black";a.fillRect(this.n.x-3,this.n.y-3,6,6);a.fillRect(this.w.x-3,this.w.y-3,6,6)},Ca:function(a){a.$c(this.n.x,this.n.y);a.$c(this.w.x,this.w.y);return a},Pb:function(){return 2},Hc:function(a){if(0==a)return this.n;else if(1==a)return this.w},kb:function(){var a=[];a.push(this.j(0).yb());a.push(this.j(1).yb());return a}});za=function(){this.ob=[];this.o=new n;return this};
K(za,wa,{m:h,o:h,K:k,$b:function(a,b,c,d,e,g){var i=new G;i.$b(a,b,c,d,e,g);this.m=i;return this},Zb:function(a,b,c,d,e,g,i,j){var o=new G;o.Zb(a,b,c,d,e,g,i,j);this.m=o;return this},ad:function(){this.m.update()},j:function(a){if(a>1||a<0)a%=1;if(a<0)a=1+a;this.m.ja(this.o,a);return this.o},Hb:function(a){this.m.ja(this.o,a/this.B());return this.o},cf:function(){return this.m.b[0].x},Le:function(){return this.m.b[this.m.b.length-1].x},B:function(){return this.m.B()},i:function(a){this.m.i(a)},Ca:function(a){this.m.Ca(a);
return a},Pb:function(){return this.m.b.length},Hc:function(a){return this.m.b[a]},Aa:function(){return this.m.Aa()},Fa:function(){return this.m.Fa()},kb:function(a){for(var b=[],c=0;c<=a;c++)b.push({x:c/a,y:this.j(c/a).y});return b}});C=function(){this.o=new n;this.e=[];this.ob=[];return this};
K(C,wa,{e:h,Xa:h,oa:h,o:h,Sb:-1,uc:-1,vc:-1,$:-1,aa:-1,Aa:function(){return this.e[this.e.length-1].Aa()},Fa:function(){return this.e[0].Fa()},ta:function(a,b,c,d){this.beginPath(a,b);this.rd(c,d);this.Ba();return this},$b:function(a,b,c,d,e,g){this.beginPath(a,b);this.ie(c,d,e,g);this.Ba();return this},Zb:function(a,b,c,d,e,g,i,j){this.beginPath(a,b);this.he(c,d,e,g,i,j);this.Ba();return this},xg:function(a){this.e.push(a);return this},ie:function(a,b,c,d){var e=new G;e.$b(this.$,this.aa,a,b,c,d);
this.$=c;this.aa=d;a=new za;a.m=e;this.e.push(a);return this},he:function(a,b,c,d,e,g){var i=new G;i.Zb(this.$,this.aa,a,b,c,d,e,g);this.$=e;this.aa=g;a=new za;a.m=i;this.e.push(a);return this},ug:function(a,b,c,d,e,g){var i=new va;i.Mf(this.$,this.aa,a,b,c,d,e,g);this.$=e;this.aa=g;a=new za;a.m=i;this.e.push(a);return this},rd:function(a,b){var c=new ya;c.Uf(this.$,this.aa);c.Sf(a,b);this.$=a;this.aa=b;this.e.push(c);return this},beginPath:function(a,b){this.$=a;this.aa=b;this.uc=a;this.vc=b;return this},
closePath:function(){this.rd(this.uc,this.vc);this.$=this.uc;this.aa=this.vc;this.Ba();return this},Ba:function(){this.oa=[];this.Xa=[];this.Sb=0;var a;for(a=0;a<this.e.length;a++){this.Sb+=this.e[a].B();this.oa.push(0);this.Xa.push(0)}for(a=0;a<this.e.length;a++){this.Xa[a]=this.e[a].B()/this.Sb;if(a>0)this.oa[a]=this.oa[a-1]+this.Xa[a-1];else this.oa[0]=0;this.e[a].Ba()}return this},B:ba("Sb"),j:function(a){if(a>1||a<0)a%=1;if(a<0)a=1+a;for(var b=0;b<this.e.length;b++)if(this.oa[b]<=a&&a<=this.oa[b]+
this.Xa[b]){a=(a-this.oa[b])/this.Xa[b];a=this.e[b].j(a);this.o.x=a.x;this.o.y=a.y;break}return this.o},Hb:function(a){a%=this.B();if(a<0)a+=this.B();for(var b=0,c=0;c<this.e.length;c++){if(b<=a&&a<=this.e[c].B()+b){a-=b;a=this.e[c].Hb(a);this.o.x=a.x;this.o.y=a.y;break}b+=this.e[c].B()}return this.o},i:function(a){for(var b=0;b<this.e.length;b++)this.e[b].i(a)},wg:function(a){this.ob.push(a);return this},Fg:function(a){for(var b=0;b<this.ob.length;b++)this.ob[b](this,a)},Ca:function(a){if(h==a)a=
new q;for(var b=0;b<this.e.length;b++)this.e[b].Ca(a);return a},xf:function(){this.fb=this.eb=-1},Ng:function(){return this.e.length},Qg:function(a){return this.e[a]},ad:function(){for(var a=0;a<this.e.length;a++)this.e[a].ad();this.Ba()},uf:function(a,b){for(var c=ua.prototype.jd/2,d=0;d<this.e.length;d++)for(var e=0;e<this.e[d].Pb();e++){var g=this.e[d].Hc(e);if(a>=g.x-c&&b>=g.y-c&&a<g.x+c&&b<g.y+c){this.A=[];this.A.push(g);if(e==0){c=d-1;if(c<0)c=this.e.length-1;this.A.push(this.e[c].Aa())}else e==
this.e[d].Pb()-1&&this.A.push(this.e[(d+1)%this.e.length].Fa());return}}this.A=h},De:function(a,b){if(h!=this.A){if(-1==this.eb||-1==this.fb){this.eb=a;this.fb=b}for(var c=0;c<this.A.length;c++){this.A[c].x+=a-this.eb;this.A[c].y+=b-this.fb}this.eb=a;this.fb=b;this.ad()}},eb:-1,fb:-1,A:[],kb:function(a){for(var b=[],c=0;c<=a;c++)b.push({x:c/a,y:this.j(c/a).y});return b}});Aa=function(){Aa.d.constructor.call(this);return this};
K(Aa,m,{path:h,rf:h,le:k,Z:function(a){this.path=a;this.rf=a.Ca();return this},i:function(a){var b=a.f;b.strokeStyle="black";this.path.i(a);if(this.le){b.strokeStyle="black";b.strokeRect(0,0,this.width,this.height)}},Lc:function(a){this.path.De(a.A.x,a.A.y)},Va:function(a){this.path.uf(a.A.x,a.A.y)},Wa:function(){this.path.xf()}});H=function(){this.F=[];this.Of();return this};
H.prototype={F:h,ba:-1,wa:-1,hb:k,K:f,ea:h,r:h,Of:function(){this.ea=(new u).zd(k);return this},Q:function(a,b){this.ba=a;this.wa=b;this.K=k;return this},$a:function(a){this.ea=a;return this},apply:function(a,b){var c=a;if(this.Jc(a,b)){a=this.Sd(a);this.Me(b,c,a,this.ia(a,b))}},Nf:function(a){this.hb=a;return this},va:function(a){this.F.push(a);return this},Jc:function(a,b){if(this.K)return k;if(this.hb)if(a>this.ba)a=(a-this.ba)%this.wa+this.ba;if(a>this.ba+this.wa){this.K||this.ha(b,a);return k}return this.ba<=
a&&a<this.ba+this.wa},Jd:function(a,b){for(var c=0;c<this.F.length;c++)this.F[c].td(this,b,a)},Me:function(a,b,c,d){for(var e=0;e<this.F.length;e++)this.F[e].me&&this.F[e].me(this,b,c,a,d)},Sd:function(a){a-=this.ba;if(this.hb)a%=this.wa;return this.ea.j(a/this.wa).y},ha:function(a,b){this.K=f;this.ia(this.ea.j(1).y,a);this.Jd(a,b)},ia:l(),da:function(a){if(a)for(var b in a)this[b]=a[b];return this}};B=function(){B.d.constructor.call(this);this.La=[];return this};
K(B,H,{La:h,S:function(a){this.La.push(a);a.va(this);return this},apply:function(a,b){if(this.Jc(a,b)){a-=this.ba;if(this.hb)a%=this.wa;for(var c=0;c<this.La.length;c++)this.La[c].apply(a,b)}},$a:l(),td:function(a,b,c){if(this.hb)a.K=k;else this.Jd(c,b)},ia:function(a,b){for(var c=0;c<this.La.length;c++)this.La[c].ia(a,b);return h}});ta=function(){ta.d.constructor.call(this);this.anchor=m.prototype.ka;return this};
K(ta,H,{dc:0,Fc:0,anchor:0,ia:function(a,b){var c=this.dc+a*(this.Fc-this.dc),d=b.Kd(this.anchor);b.$d(c,d.x,d.y);return c},Vc:function(a,b){this.dc=a;this.Fc=b;return this},Zg:function(a,b){return this.Vc(a,b)},Ef:function(a){this.anchor=a;return this}});Ba=function(){Ba.d.constructor.call(this);return this};K(Ba,H,{vd:h,Xd:function(a){this.vd=a;return this},ia:function(a,b){return this.vd.call(b,a)}});sa=function(){ta.d.constructor.call(this);this.anchor=m.prototype.ka;return this};
K(sa,H,{qb:0,Fb:0,rb:0,Gb:0,anchor:0,ia:function(a,b){var c=this.qb+a*(this.Fb-this.qb),d=this.rb+a*(this.Gb-this.rb);if(0==c)c=0.01;if(0==d)d=0.01;b.be(c,d,this.anchor);return{P:c,ra:d}},Vc:function(a,b,c,d){this.qb=a;this.Fb=b;this.rb=c;this.Gb=d;return this},Ef:function(a){this.anchor=a;return this}});qa=function(){qa.d.constructor.call(this);return this};K(qa,H,{cc:0,Ec:0,ia:function(a,b){var c=this.cc+a*(this.Ec-this.cc);b.Df(c);return c},Vc:function(a,b){this.cc=a;this.Ec=b;return this}});
ra=function(){ra.d.constructor.call(this);return this};
K(ra,H,{path:h,ke:k,Ya:-1,pb:-1,kg:0,lg:0,Z:function(a){this.path=a;return this},Q:function(a,b){ra.d.Q.call(this,a,b);this.pb=this.Ya=-1;return this},ia:function(a,b){var c=this.path.j(a);if(this.ke){if(-1==this.Ya&&-1==this.pb){this.Ya=c.x;this.pb=c.y}var d=c.x-this.Ya,e=c.y-this.pb;if(d==0&&e==0)return;d=Math.atan2(e,d);if(this.Ya<=c.x)b.Ha=t.prototype.od;else{b.Ha=t.prototype.wb;d+=Math.PI}b.Zd(d);this.Ya=c.x;this.pb=c.y}b.J(c.x-this.kg,c.y-this.lg);return{x:b.x,y:b.y}},Ug:function(a){if(this.Jc(a,
h)){a=this.Sd(a);return this.path.j(a)}return{x:-1,y:-1}}});u=function(){this.Ta=new n;return this};
u.prototype={Ta:h,Rb:90,zd:function(a,b){this.j=function(c){var d=c;if(a)if(c<0.5)c*=2;else c=1-(c-0.5)*2;if(b!=h&&b)c=1-c;return this.Ta.h(d,c)};return this},ye:function(a,b){this.j=function(c){var d=c;if(b)if(c<0.5)c*=2;else c=1-(c-0.5)*2;return this.Ta.h(d,1-Math.pow(1-c,a))};return this},yd:function(a,b){this.j=function(c){var d=c;if(b)if(c<0.5)c*=2;else c=1-(c-0.5)*2;if(c*2<1)return this.Ta.h(d,Math.pow(c*2,a)/2);return this.Ta.h(d,1-Math.abs(Math.pow(c*2-2,a))/2)};return this},xe:function(a,
b,c){this.j=function(d){if(c)if(d<0.5)d*=2;else d=1-(d-0.5)*2;if(d==0)return{x:0,y:0};if(d==1)return{x:1,y:1};return this.Ta.h(d,a*Math.pow(2,-10*d)*Math.sin((d-b/(2*Math.PI)*Math.asin(1/a))*2*Math.PI/b)+1)};return this},oe:function(a){return(a/=1)<1/2.75?{x:a,y:7.5625*a*a}:a<2/2.75?{x:a,y:7.5625*(a-=1.5/2.75)*a+0.75}:a<2.5/2.75?{x:a,y:7.5625*(a-=2.25/2.75)*a+0.9375}:{x:a,y:7.5625*(a-=2.625/2.75)*a+0.984375}},Bc:function(a){this.j=function(b){if(a)if(b<0.5)b*=2;else b=1-(b-0.5)*2;return this.oe(b)};
return this},i:function(a){a=a.f;a.save();a.beginPath();a.moveTo(0,this.j(0).y*this.Rb);for(var b=0;b<=this.Rb;b++)a.lineTo(b,this.j(b/this.Rb).y*this.Rb);a.strokeStyle="black";a.stroke();a.restore()},kb:function(a){for(var b=[],c=0;c<=a;c++)b.push({x:c/a,y:this.j(c/a).y});return b}};Ca=function(){Ca.d.constructor.call(this);return this};
K(Ca,m,{ea:h,Na:h,fe:50,ma:0,$a:function(a,b){this.ea=a;this.Na=a.kb(b||this.fe);return this},i:function(a,b){Ca.d.i.call(this,a,b);if(this.ea){var c=a.f;c.beginPath();c.moveTo(this.ma+this.Na[0].x*(this.width-2*this.ma),-this.ma+this.height-this.Na[0].y*(this.height-2*this.ma));for(var d=1;d<this.Na.length;d++)c.lineTo(this.ma+this.Na[d].x*(this.width-2*this.ma),-this.ma+this.height-this.Na[d].y*(this.height-2*this.ma));c.strokeStyle="black";c.stroke()}},Kg:ba("ea")});J=J||{};J.R=J.R||{};
J.R.nc=function(){this.pe=J.R.nc.de;this.position=new n(0,0);this.Qb=new n(0,0);this.Xc=new n(0,0);return this};
J.R.nc.prototype={id:0,N:h,position:new n(0,0),Qb:new n(0,0),Xc:h,Da:k,pe:0,zc:0,yc:0,de:8,Pf:function(a){this.N=a;return this},ce:function(a){this.Xc=a;return this},Jf:function(a){this.zc=a;return this},If:function(a){this.yc=a;return this},Yf:function(a){this.qa=a;this.vf=this.qa*this.qa;return this},da:function(a){if(a)for(var b in a)this[b]=a[b];return this},Pa:function(){this.Xc=this.N=this.Qb=this.position=h}};J=J||{};J.R=J.R||{};J.R.kd=function(){return this};
J.R.kd.prototype={T:[],Mc:1,kf:0,xb:new q,zb:h,qd:function(a){a.id=this.T.length;this.T.push(a);return this},Oe:function(){for(var a=this.T.length,b=0;b<a;b++){var c=this.T[b];c&&c.N&&c.position.h(c.N.x+c.Qb.x,c.N.y+c.Qb.y)}},Ue:function(){this.yf();for(var a=(new n).h(0,0),b=this.T,c=b.length,d=0;d<this.Mc;d++)for(var e=0;e<c;e++)for(var g=b[e],i=e+1;i<c;i++){var j=b[i];if(this.ue(g,j)){var o=j.position.x-g.position.x,v=j.position.y-g.position.y,E=(g.qa+j.qa)*1.08,I=g.position.Ld(j.position);if(I<
E*E-0.02){a.x=o;a.y=v;a.normalize();a.multiply((E-Math.sqrt(I))*0.5);if(!j.Da){g.Da&&a.multiply(2.2);j.position.jg(a)}if(!g.Da){j.Da&&a.multiply(2.2);g.position.fg(a)}this.zb&&d==this.Mc-1&&this.zb.ne.call(this.zb.scope,g,j,a)}}}},Pe:function(a,b,c){var d=this.T,e=d.length;a=new n(a,b);b=h;for(var g=Number.MAX_VALUE,i=0;i<e;i++){var j=d[i];if(j){var o=j.position.Ld(a);if(o<g&&o<j.vf+c){g=o;b=j}}}return b},ue:function(a,b){if(!a||!b||a===b)return k;if(a.N==h||b.N==h)return k;if(a.Da&b.Da)return k;
if((a.yc&b.zc)==0)return k;if((b.yc&a.zc)==0)return k;return f},ga:function(a,b,c,d){this.xb.x=a;this.xb.y=b;this.xb.width=c;this.xb.height=d},Vf:function(a){this.Mc=a;return this},Wf:function(a){this.kf=a;return this},Xd:function(a,b){this.zb={ne:a,scope:b}},yf:function(){for(var a=this.T.length;a>=0;a--)this.T[a]===h&&this.T.splice(a,1)},da:function(a){if(a)for(var b in a)this[b]=a[b];return this}};Da=function(){return this};Da.prototype={};
Da.ee=function(a,b,c){this.u=a||255;this.t=b||255;this.s=c||255;return this};Da.ee.prototype={u:255,t:255,s:255};(function(){var a={};window.oc={C:function(){window.removeEventListener("load",window.oc.C,k);if(location.search&&location.search.length>0)for(var b=location.search.substring(1).split("&"),c=b.length;c--;){var d=b[c].split("="),e=d[0].mg();d=decodeURI(d.length>1?d[1].mg():"");a[e]=d}},Te:function(b){return a[b]},Rg:function(b){return b in a},Cg:function(){for(var b in a)console.log("(QueryStringManager):: name:"+b+" value:"+a[b])}};window.addEventListener("load",window.oc.C,k)})();function Ya(){function a(F,db,$){var xa,N,A;for(N=0;N<30;N++)for(xa=0;xa<73;xa++){A=(xa+N*74)*4;F[A]=F[A+4];F[A+1]=F[A+5];F[A+2]=F[A+6]}for(N=0;N<30;N++){A=(73+N*74)*4;if(N<db){F[A]=r[$].k.u;F[A+1]=r[$].k.t;F[A+2]=r[$].k.s}else{F[A]=r[$].H.u;F[A+1]=r[$].H.t;F[A+2]=r[$].H.s}}}var b=0,c=2,d,e=0,g=(new Date).getTime(),i=g,j=g,o=0,v=1E3,E=0,I,O,p,ka,Ja,la=0,Ka=1E3,La=0,P,Q,ma,Ma,na=0,Na=1E3,Oa=0,R,S,oa,Pa,r={ca:{k:{u:16,t:16,s:48},H:{u:0,t:255,s:255}},fa:{k:{u:16,t:48,s:16},H:{u:0,t:255,s:0}},Ua:{k:{u:48,
t:16,s:26},H:{u:255,t:0,s:128}}};d=document.createElement("div");d.style.cursor="pointer";d.style.width="80px";d.style.opacity="0.9";d.style.zIndex="10001";d.addEventListener("click",function(){b++;b==c&&(b=0);I.style.display="none";P.style.display="none";R.style.display="none";switch(b){case 0:I.style.display="block";break;case 1:P.style.display="block";break;case 2:R.style.display="block"}},k);I=document.createElement("div");I.style.backgroundColor="rgb("+Math.floor(r.ca.k.u/2)+","+Math.floor(r.ca.k.t/
2)+","+Math.floor(r.ca.k.s/2)+")";I.style.padding="2px 0px 3px 0px";d.appendChild(I);O=document.createElement("div");O.style.fontFamily="Helvetica, Arial, sans-serif";O.style.textAlign="left";O.style.fontSize="9px";O.style.color="rgb("+r.ca.H.u+","+r.ca.H.t+","+r.ca.H.s+")";O.style.margin="0px 0px 1px 3px";O.innerHTML='<span style="font-weight:bold">FPS</span>';I.appendChild(O);p=document.createElement("canvas");p.width=74;p.height=30;p.style.display="block";p.style.marginLeft="3px";I.appendChild(p);
ka=p.getContext("2d");ka.fillStyle="rgb("+r.ca.k.u+","+r.ca.k.t+","+r.ca.k.s+")";ka.fillRect(0,0,p.width,p.height);Ja=ka.getImageData(0,0,p.width,p.height);P=document.createElement("div");P.style.backgroundColor="rgb("+Math.floor(r.fa.k.u/2)+","+Math.floor(r.fa.k.t/2)+","+Math.floor(r.fa.k.s/2)+")";P.style.padding="2px 0px 3px 0px";P.style.display="none";d.appendChild(P);Q=document.createElement("div");Q.style.fontFamily="Helvetica, Arial, sans-serif";Q.style.textAlign="left";Q.style.fontSize="9px";
Q.style.color="rgb("+r.fa.H.u+","+r.fa.H.t+","+r.fa.H.s+")";Q.style.margin="0px 0px 1px 3px";Q.innerHTML='<span style="font-weight:bold">MS</span>';P.appendChild(Q);p=document.createElement("canvas");p.width=74;p.height=30;p.style.display="block";p.style.marginLeft="3px";P.appendChild(p);ma=p.getContext("2d");ma.fillStyle="rgb("+r.fa.k.u+","+r.fa.k.t+","+r.fa.k.s+")";ma.fillRect(0,0,p.width,p.height);Ma=ma.getImageData(0,0,p.width,p.height);try{if(webkitPerformance&&webkitPerformance.hf.th)c=3}catch(eb){}R=
document.createElement("div");R.style.backgroundColor="rgb("+Math.floor(r.Ua.k.u/2)+","+Math.floor(r.Ua.k.t/2)+","+Math.floor(r.Ua.k.s/2)+")";R.style.padding="2px 0px 3px 0px";R.style.display="none";d.appendChild(R);S=document.createElement("div");S.style.fontFamily="Helvetica, Arial, sans-serif";S.style.textAlign="left";S.style.fontSize="9px";S.style.color="rgb("+r.Ua.H.u+","+r.Ua.H.t+","+r.Ua.H.s+")";S.style.margin="0px 0px 1px 3px";S.innerHTML='<span style="font-weight:bold">MEM</span>';R.appendChild(S);
p=document.createElement("canvas");p.width=74;p.height=30;p.style.display="block";p.style.marginLeft="3px";R.appendChild(p);oa=p.getContext("2d");oa.fillStyle="#301010";oa.fillRect(0,0,p.width,p.height);Pa=oa.getImageData(0,0,p.width,p.height);return{g:d,update:function(){e++;g=(new Date).getTime();la=g-i;Ka=Math.min(Ka,la);La=Math.max(La,la);a(Ma.data,Math.min(30,30-la/200*30),"ms");Q.innerHTML='<span style="font-weight:bold">'+la+" MS</span> ("+Ka+"-"+La+")";ma.putImageData(Ma,0,0);i=g;if(g>j+1E3){o=
Math.round(e*1E3/(g-j));v=Math.min(v,o);E=Math.max(E,o);a(Ja.data,Math.min(30,30-o/100*30),"fps");O.innerHTML='<span style="font-weight:bold">'+o+" FPS</span> ("+v+"-"+E+")";ka.putImageData(Ja,0,0);if(c==3){na=webkitPerformance.hf.uh*9.54E-7;Na=Math.min(Na,na);Oa=Math.max(Oa,na);a(Pa.data,Math.min(30,30-na/2),"mem");S.innerHTML='<span style="font-weight:bold">'+Math.round(na)+" MEM</span> ("+Math.round(Na)+"-"+Math.round(Oa)+")";oa.putImageData(Pa,0,0)}j=g;e=0}}}};LookupTable=function(){this.db=[];this.la={};this.Sg=0};LookupTable.prototype.Yd=function(a,b){this.la.hasOwnProperty(b)||this.db.push(b);return this.la[b]=a};LookupTable.prototype.Nc=function(a){return this.la[a]};LookupTable.prototype.Pa=function(){delete this.db;delete this.la};SortedLookupTable=function(){LookupTable.call(this)};SortedLookupTable.prototype=new LookupTable;SortedLookupTable.prototype.Yd=function(a,b){this.la.hasOwnProperty(b)||this.db.splice(this.pd(b),0,b);return this.la[b]=a};
SortedLookupTable.prototype.remove=function(a){if(this.la.hasOwnProperty(a)){delete this.la[a];this.db.splice(this.pd(a),1)}};SortedLookupTable.prototype.pd=function(a){var b=this.db,c=b.length,d=0,e=c;if(c===0)return 0;if(a<b[0])return 0;if(a>b[c-1])return c;for(;a!==b[d]&&e>0.5;){e/=2;d+=(a>b[d]?1:-1)*Math.round(e);if(a>b[d-1]&&a<b[d])e=0}return d};var Za=Za||{},$a,ab,W,X,Y,Z,bb,cb;$a={wf:function(a){return a[Math.floor(Math.random()*a.length)]},Vg:function(a,b){return Math.random()*(b-a)+a},Wg:function(a,b){return Math.round(Math.random()*(b-a)+a)}};(function(){var a=new SortedLookupTable;ab=function(){return this};ab.va=function(b,c,d){var e=a.Nc(b);e||(e=a.Yd([],b));e.push({scope:d,Ve:c})};ab.Af=function(b,c){var d=a.Nc(b);d||console.error("(Dispatcher)::removeEventListener No such event defined!",b);for(var e=k,g=d.length;g>=0;g--)if(d[g].scope===c){console.info("(Dispatcher)::removeEventListener - Removing event listener'"+b+"' for object",c);e=f;d.splice(g,1)}e||console.error("(Dispatcher)::removeEventListener - '"+b+"' did not have any listeners. Avoid superflous calls to removeEventListener if possible.")};
ab.Bg=function(b,c){var d=a.Nc(b);if(d)for(var e=d.length,g=0;g<e;g++)d[g].Ve.call(d[g].scope,b,c);else console.warn("(Dispatcher) No such event defined!",b)}})();W=function(){return this};
W.prototype={Ic:h,xd:h,gc:k,je:function(a,b,c,d,e){var g=new sa;g.anchor=m.prototype.ka;a.P=a.ra=g.qb=g.rb=d;g.Fb=g.Gb=e;g.Q(b,b+c);g.Nf(k);g.$a((new u).Bc(k));a.S(g);return g},bf:function(){function a(b){var c=b.changedTouches[0],d="";switch(b.type){case "touchstart":d="mousedown";break;case "touchmove":d="mousemove";break;case "touchend":d="mouseup";break;default:return}var e=document.createEvent("MouseEvent");e.initMouseEvent(d,f,f,window,1,c.screenX,c.screenY,c.clientX,c.clientY,k,k,k,k,0,h);
c.target.dispatchEvent(e);b.preventDefault()}document.addEventListener("touchstart",a,f);document.addEventListener("touchmove",a,f);document.addEventListener("touchend",a,f);document.addEventListener("touchcancel",a,f)},Lf:aa("xd"),bg:aa("gc"),Se:function(){if(this.We)return this.Qd;this.We=f;return this.Qd=!!(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))}};X=function(){return this};
X.prototype={Ia:{ld:1,hd:2,dd:4},r:h,W:h,X:h,qa:0,Hd:0,create:function(a){this.qa=a;W.prototype.gc?this.Ae():this.ve();this.r.N=this;this.X=(new J.R.nc).Pf(this.r).Yf(a).Jf(1).If(1);this.r.O=k;this.r.ae(0.5,0.5);return this},Ae:function(){var a=this.Ra();this.r=(new t).create().$f(a);return this},ve:function(){var a=this.Ra();this.r=(new w).ze(W.prototype.xd).Hf("actor").Gf(a.z.src).bc(this.qa*2,this.qa*2);return this},Ra:function(){var a=Y.Ra("heads"+this.color);return this.W=(new ia).da(a,3,4)},
Ud:function(){if(this.X.position.y>Y.height){this.X.position.x=Y.width/2+Math.random();this.X.position.y=-this.r.height*2}else this.X.position.y+=this.Hd},J:function(a,b){this.r.J(a,b);return this},Kf:function(a){this.color=a;return this},ag:function(a){if(W.prototype.gc)this.r.Ea=a;else{var b=Math.floor(a/this.W.rows)*this.W.p;this.r.g.style["background-position-x"]=Math.floor(a%this.W.cols)*this.W.q+"px";this.r.g.style["background-position-y"]=b+"px"}},ce:function(a){this.X.ce(a);return this},Rf:function(a){this.Hd=
a;return this}};Z=function(){Z.d.constructor.call(this);this.ib=[];return this};
K(Z,X,{Wc:0,Ne:35,ib:h,Ud:function(){this.Wc+=0.03+Math.random()*0.01;this.X.position.y=Math.sin(this.Wc)*this.Ne+this.gg.y},create:function(a){Z.d.create.call(this,a);this.X.Da=f;this.Wc=Math.random()*Math.PI*2;return this},we:function(){if(W.prototype.gc)for(var a=0;a<3;a++){var b=Za.ng.create(this.r);this.ib.push(b);bb.M(b)}},Ra:function(){var a=Y.Ra("island");return this.W=(new ia).da(a,1,1)},J:function(a,b){Z.d.J.call(this,a,b);this.gg=new n(a,b);return this},Pa:function(){for(var a=0;a<this.ib.length;a++)this.ib[a].Pa();
this.ib=h;Z.d.Pa.call(this)}});cb=function(){return this};
cb.prototype={L:h,ya:h,sa:h,gb:h,mb:h,Kc:k,C:function(a){this.Ye(a);this.$e();this.Xe();this.af();this.Ze();ab.va("warWereDeclared",this.mf,this)},mf:l(),Ye:function(a){this.mb=new n(a.width/2,a.height/2);this.ya=a;this.sa=(new y).create();this.L=new J.R.kd;this.L.ga(0,0,a.width,a.height);this.L.Vf(1);this.L.Wf(0);this.sa.O=k;this.ya.sd(this.sa)},$e:function(){this.gb=(new s).create().ga(0,0,Y.width,Y.height);this.sa.M(this.gb);this.sa.fillStyle="#2a2a2a";bb=(new s).create().ga(0,0,Y.width,Y.height);
this.sa.M(bb);bb.O=this.gb.O=k},Xe:function(){for(var a=[X.prototype.Ia.ld,X.prototype.Ia.dd,X.prototype.Ia.hd],b=0;b<30;b++){var c=(new X).Kf($a.wf(a)).create(36).Rf(Math.random()*2+1).J(Math.random()*this.ya.width,200);c.ag(Math.floor(Math.random()*c.W.cols*c.W.rows));this.L.qd(c.X);this.gb.M(c.r);W.prototype.je(c.r,this.ya.G+Math.random()*2E3,500,0.1,c.r.P)}},Ze:function(){for(var a=0;a<2;a++){var b=(new Z).create(120).J(150+(this.ya.width-300)*a,this.ya.height-250);this.L.qd(b.X);this.gb.M(b.r);
b.we()}},af:function(){var a=this;window.addEventListener("mousemove",function(b){a.Ob(b)},f);window.addEventListener("mousedown",function(b){a.Va(b)},f);window.addEventListener("mouseup",function(b){a.Wa(b)},f)},start:function(){this.L.Oe();this.L.Xd(this.lf,this);var a=this;this.ya.loop(30,function(b,c){a.loop(b,c)})},lf:l(),loop:function(){this.L.Ue();for(var a=this.L.T,b=a.length;b--;){var c=a[b],d=c.N;c.N.N.Ud();d.x=c.position.x-d.width*0.5;d.y=c.position.y-d.height*0.5}},Ob:function(a){this.Kc&&
this.mb.h(a.clientX,a.clientY)},Wa:function(){this.Kc=k},Va:function(a){this.Kc=this.L.Pe(a.clientX,a.clientY,0)!=h},Pa:function(){this.L.Pa();this.L=h;delete this.mb;this.mb=h;delete this.mb}};(function(){function a(){window.removeEventListener("load",a,k);d();b();c()}function b(){var e=new Ya;e.g.style.position="absolute";e.g.style.left="0px";e.g.style.top="0px";document.body.appendChild(e.g);setInterval(function(){e.update()},1E3/30)}function c(){var e=[];e.push({id:"heads"+X.prototype.Ia.ld,url:"./images/red.png"});e.push({id:"heads"+X.prototype.Ia.hd,url:"./images/yellow.png"});e.push({id:"heads"+X.prototype.Ia.dd,url:"./images/blue.png"});e.push({id:"island",url:"./images/float2.png"});
W.Ic=new ja;W.Ic.gf(e,function(g,i){if(g==i.length){var j=!W.prototype.Se();if(window.oc.Te("useCanvas")==="false")j=k;W.prototype.bg(j);var o=document.getElementById("container");Y=new da;if(j){Y.da(640,712);o.appendChild(Y.canvas)}else Y.df(640,712);Y.Jb=W.Ic.images;W.prototype.bf();console&&console.log("(CAAT.MouseEvent) Disabling CAAT event capture");window.removeEventListener("keydown",Ga,k);window.removeEventListener("keyup",Ha,k);window.removeEventListener("mousedown",Ia,k);window.removeEventListener("mouseup",
Qa,k);window.removeEventListener("mousemove",Ta,k);window.removeEventListener("mouseover",Ra,k);window.removeEventListener("mouseout",Sa,k);window.removeEventListener("dblclick",Ua,k);Fa=k;W.prototype.Lf(o);j=new cb;j.C(Y);j.start()}})}function d(){if(!window.console){var e=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var g=0;g<e.length;++g)window.console[e[g]]=l()}}window.addEventListener("load",
a,k)})();
